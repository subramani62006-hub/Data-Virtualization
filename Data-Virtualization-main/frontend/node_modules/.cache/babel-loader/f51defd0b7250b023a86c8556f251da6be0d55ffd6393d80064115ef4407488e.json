{"ast":null,"code":"var _jsxFileName = \"D:\\\\New\\\\project\\\\frontend\\\\src\\\\components\\\\ChartViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { PieChart, Pie, Cell, Tooltip, BarChart, Bar, XAxis, YAxis, CartesianGrid, LineChart, Line, ResponsiveContainer } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChartViewer({\n  column,\n  uploadId\n}) {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (!column) return setData([]);\n    API.get('/chart/aggregate', {\n      params: {\n        column,\n        uploadId\n      }\n    }).then(r => setData((r.data || []).map(d => ({\n      name: String(d.key),\n      value: Number(d.value)\n    }))));\n  }, [column, uploadId]);\n  if (!column) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"small\",\n    children: \"Select a column\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 22\n  }, this);\n  if (data.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"small\",\n    children: \"No data\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Chart for \", column]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 320,\n      children: /*#__PURE__*/_jsxDEV(PieChart, {\n        children: [/*#__PURE__*/_jsxDEV(Pie, {\n          data: data,\n          dataKey: \"value\",\n          label: true,\n          children: data.map((d, i) => /*#__PURE__*/_jsxDEV(Cell, {}, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 9,\n            columnNumber: 155\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 99\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 179\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 89\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 42\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 10\n  }, this);\n}\n_s(ChartViewer, \"FTfFkLfVdcj0Uk2EahF49AUIgmY=\");\n_c = ChartViewer;\nvar _c;\n$RefreshReg$(_c, \"ChartViewer\");","map":{"version":3,"names":["React","useEffect","useState","API","PieChart","Pie","Cell","Tooltip","BarChart","Bar","XAxis","YAxis","CartesianGrid","LineChart","Line","ResponsiveContainer","jsxDEV","_jsxDEV","ChartViewer","column","uploadId","_s","data","setData","get","params","then","r","map","d","name","String","key","value","Number","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","width","height","dataKey","label","i","_c","$RefreshReg$"],"sources":["D:/New/project/frontend/src/components/ChartViewer.js"],"sourcesContent":["import React,{useEffect,useState} from 'react';\nimport API from '../api';\nimport {PieChart,Pie,Cell,Tooltip,BarChart,Bar,XAxis,YAxis,CartesianGrid,LineChart,Line,ResponsiveContainer} from 'recharts';\nexport default function ChartViewer({column,uploadId}){\n  const [data,setData]=useState([]);\n  useEffect(()=>{ if(!column) return setData([]); API.get('/chart/aggregate',{params:{column, uploadId}}).then(r=> setData((r.data||[]).map(d=>({name:String(d.key), value:Number(d.value)})))) },[column,uploadId]);\n  if(!column) return <div className='small'>Select a column</div>;\n  if(data.length===0) return <div className='small'>No data</div>;\n  return <div><h3>Chart for {column}</h3><ResponsiveContainer width='100%' height={320}><PieChart><Pie data={data} dataKey='value' label>{data.map((d,i)=><Cell key={i} />)}</Pie><Tooltip/></PieChart></ResponsiveContainer></div>;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}